"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[316],{1316:function(e,a,t){t.r(a),t.d(a,{default:function(){return f}});t(4114);var l=t(6768),n=t(144),s=t(7387),r=t(8126),d=t(1387);const o=e=>((0,l.Qi)("data-v-5664efac"),e=e(),(0,l.jt)(),e),u={class:"login-container"},c={class:"login-box"},i=o((()=>(0,l.Lk)("div",{class:"login-title"},[(0,l.Lk)("h1",null,"登录")],-1))),p={class:"login-form"},m={class:"login-btn"};var g={__name:"Login",setup(e){document.title="登录";const a=(0,s.J)(),t=(0,d.rd)(),o=(0,n.Kh)({username:"",password:""}),g={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},b=()=>{(0,r.Sv)(o).then((e=>{200===e.data.code?(a.success("登录成功"),localStorage.setItem("token",e.data.data.token),console.log(e.data.data.token),setTimeout((()=>{e.data.data.admin?t.push("/admin"):e.data.data.user&&t.push("/user")}),1e3)):400===e.data.code?a.error(e.data.msg):401===e.data.code&&a.warning(e.data.msg)})).catch((e=>{a.error(e.message)}))};return(e,a)=>{const t=(0,l.g2)("n-input"),n=(0,l.g2)("n-form-item"),s=(0,l.g2)("n-button"),r=(0,l.g2)("n-form"),d=(0,l.g2)("n-card");return(0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("div",c,[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[i,(0,l.Lk)("div",p,[(0,l.bF)(r,{model:o,rules:g,"label-placement":"top","label-width":"80px"},{default:(0,l.k6)((()=>[(0,l.bF)(n,{label:"用户名",path:"username"},{default:(0,l.k6)((()=>[(0,l.bF)(t,{value:o.username,"onUpdate:value":a[0]||(a[0]=e=>o.username=e),placeholder:"请输入用户名"},null,8,["value"])])),_:1}),(0,l.bF)(n,{label:"密码",path:"password"},{default:(0,l.k6)((()=>[(0,l.bF)(t,{value:o.password,"onUpdate:value":a[1]||(a[1]=e=>o.password=e),placeholder:"请输入密码",type:"password"},null,8,["value"])])),_:1}),(0,l.Lk)("div",m,[(0,l.bF)(s,{block:"",secondary:"",type:"primary",onClick:b},{default:(0,l.k6)((()=>[(0,l.eW)("登录")])),_:1})])])),_:1},8,["model"])])])),_:1})])])}}},b=t(1241);const k=(0,b.A)(g,[["__scopeId","data-v-5664efac"]]);var f=k}}]);
//# sourceMappingURL=316.64174735.js.map