{"version":3,"file":"static/js/961.0b7b902b.js","mappings":"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","sources":["webpack://frontend/./node_modules/@vicons/antd/es/CaretRightOutlined.js","webpack://frontend/./node_modules/@vicons/tabler/es/Heart.js","webpack://frontend/./node_modules/@vicons/tabler/es/MessageCircle.js","webpack://frontend/./src/components/CommentBox.vue","webpack://frontend/./src/components/CommentBox.vue?c8cb","webpack://frontend/./src/views/Home/Resource.vue","webpack://frontend/./src/views/Home/Resource.vue?1e57"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'CaretRightOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 24 24'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M19.5 13.572L12 21l-7.5-7.428m0 0A5 5 0 1 1 12 7.006a5 5 0 1 1 7.5 6.572',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-width': '2',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'Heart',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createStaticVNode as _createStaticVNode, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 24 24'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createStaticVNode('<g fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M3 20l1.3-3.9A9 8 0 1 1 7.7 19L3 20\"></path><path d=\"M12 12v.01\"></path><path d=\"M8 12v.01\"></path><path d=\"M16 12v.01\"></path></g>', 1)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'MessageCircle',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","<script setup>\r\nimport {CaretRightOutlined} from '@vicons/antd'\r\nimport {Heart, MessageCircle} from '@vicons/tabler'\r\n\r\nconst props = defineProps({\r\n  data: {\r\n    type: Object,\r\n    default: () => {\r\n      return {}\r\n    }\r\n  }\r\n})\r\nconst emit = defineEmits(['reply', 'like'])\r\nconst reply = (reply) => {\r\n  emit('reply', reply)\r\n}\r\n\r\nconst like = (like) => {\r\n  emit('like', like)\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div v-if=\"data.is_check\">\r\n    <div class=\"comment-content\">\r\n      <div class=\"comment-avatar\">\r\n        <n-avatar :size=\"45\" :src=\"data.user.avatar\" round/>\r\n      </div>\r\n      <div class=\"comment-info\">\r\n        <div class=\"comment-name\">\r\n          {{ data.user.nickname }}\r\n        </div>\r\n        <div class=\"comment-text\">\r\n          {{ data.content }}\r\n        </div>\r\n        <div class=\"comment-footer\">\r\n          <span style=\"margin-right: 10px\">发布于 {{ data.create_time }}</span>\r\n          <!-- 喜欢 -->\r\n          <span class=\"comment-reply\" @click=\"like(data)\">\r\n            <n-icon :component=\"Heart\" size=\"20\"/>\r\n          </span>\r\n          <span class=\"comment-reply\" @click=\"reply(data)\">\r\n            <n-icon :component=\"MessageCircle\" size=\"20\"/>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"comment-reply-content\">\r\n      <div v-for=\"(item, index) in data.reply\" :key=\"item.id\">\r\n        <div v-if=\"item.is_check\" class=\"comment-content\">\r\n          <div class=\"comment-reply-avatar\">\r\n            <n-avatar :size=\"45\" :src=\"item.user.avatar\" round/>\r\n          </div>\r\n          <div class=\"comment-info\">\r\n            <div class=\"comment-name\">\r\n              {{ item.user.nickname }}\r\n              <span style=\"color: #999;font-size: 12px;font-weight: normal\">\r\n              <n-icon :component=\"CaretRightOutlined\" size=\"12\"/>\r\n            </span>\r\n              {{ item.to.user.nickname }}\r\n              <span style=\"color: #999;font-size: 12px;font-weight: normal\">关于 {{ item.to.content }}</span>\r\n            </div>\r\n            <div class=\"comment-text\">\r\n              {{ item.content }}\r\n            </div>\r\n            <div class=\"comment-footer\">\r\n              <span style=\"margin-right: 10px\">发布于 {{ item.create_time }}</span>\r\n              <!-- 喜欢 -->\r\n              <span class=\"comment-reply\" @click=\"like(item)\">\r\n                <n-icon :component=\"Heart\" size=\"20\"/>\r\n              </span>\r\n              <span class=\"comment-reply\" @click=\"reply(item)\">\r\n                <n-icon :component=\"MessageCircle\" size=\"20\"/>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.comment-content {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 12px;\r\n  margin: 12px 0 0 0;\r\n  border: 1px solid #454545;\r\n  border-radius: 15px;\r\n}\r\n\r\n.comment-reply-avatar {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.comment-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 10px;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.comment-name {\r\n  font-size: 14px;\r\n  color: #ccc;\r\n  font-weight: bold;\r\n}\r\n\r\n.comment-text {\r\n  font-size: 13px;\r\n  color: #999;\r\n}\r\n\r\n.comment-footer {\r\n  font-size: 12px;\r\n  color: #999;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n  margin-top: 5px;\r\n  align-items: center;\r\n}\r\n\r\n.comment-reply {\r\n  cursor: pointer;\r\n  transition: .5s all;\r\n  margin-left: 10px;\r\n}\r\n\r\n.comment-reply:hover {\r\n  color: #18a06f;\r\n  transition: .5s all;\r\n}\r\n\r\n.comment-reply-content {\r\n  margin-left: 50px;\r\n}\r\n</style>","import script from \"./CommentBox.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CommentBox.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CommentBox.vue?vue&type=style&index=0&id=95caead2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-95caead2\"]])\n\nexport default __exports__","<script setup>\r\nimport {reactive, watch} from \"vue\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {homeAddComment, homeGetResource} from \"@/assets/js/api\";\r\nimport {useLoadingBar, useMessage} from \"naive-ui\";\r\nimport {FolderOutlined, TagOutlined} from '@vicons/antd'\r\nimport CommentBox from \"@/components/CommentBox.vue\";\r\nimport useClipboard from 'vue-clipboard3'\r\n\r\nconst {toClipboard} = useClipboard()\r\nconst loadingBar = useLoadingBar()\r\nconst router = useRouter()\r\nconst message = useMessage()\r\n\r\nconst videoOptions = reactive({\r\n  width: '100%', //播放器高度\r\n  height: '450px', //播放器高度\r\n  color: \"#18a058\", //主题色\r\n  title: '', //视频名称\r\n  src: \"\", //视频源\r\n  muted: false, //静音\r\n  webFullScreen: false,\r\n  speedRate: [\"0.75\", \"1.0\", \"1.25\", \"1.5\", \"2.0\"], //播放倍速\r\n  autoPlay: false, //自动播放\r\n  loop: false, //循环播放\r\n  mirror: false, //镜像画面\r\n  ligthOff: false,  //关灯模式\r\n  volume: 0.3, //默认音量大小\r\n  control: true, //是否显示控制\r\n  controlBtns: ['audioTrack', 'quality', 'speedRate', 'volume', 'setting', 'pip', 'pageFullScreen', 'fullScreen'] //显示所有按钮,\r\n})\r\n\r\nconst data = reactive({\r\n  loading: false,\r\n  resourceData: {},\r\n  showVideo: true,\r\n  showImage: true,\r\n  commentData: [],\r\n  comment: '',\r\n  currentReply: '',\r\n  inputPlaceholder: '来说点啥不，听听你的意见？'\r\n})\r\n\r\nconst queryData = reactive({\r\n  resourceId: router.currentRoute.value.query.resourceId,\r\n})\r\n\r\n\r\nconst getResourceData = () => {\r\n  loadingBar.start()\r\n  homeGetResource(queryData).then(res => {\r\n    if (res.data.code === 200) {\r\n      data.resourceData = res.data.data\r\n      data.commentData = res.data.data.comments\r\n      try {\r\n        videoOptions.src = data.resourceData.videos[0].video\r\n        videoOptions.title = data.resourceData.name\r\n        data.showVideo = true\r\n      } catch (e) {\r\n        data.resourceData.videos = []\r\n        data.showVideo = false\r\n      }\r\n      try {\r\n        data.resourceData.images = data.resourceData.images.filter(item => item.image)\r\n        data.showImage = true\r\n      } catch (e) {\r\n        data.resourceData.images = []\r\n        data.showImage = false\r\n      }\r\n\r\n      if (data.resourceData.images.length === 0) {\r\n        data.showImage = false\r\n      }\r\n      loadingBar.finish()\r\n    } else if (res.data.code === 400) {\r\n      loadingBar.error()\r\n      message.error(res.data.msg)\r\n    } else if (res.data.code === 401) {\r\n      loadingBar.error()\r\n      message.warning(res.data.msg)\r\n    }\r\n  }).catch(err => {\r\n    message.error('资源加载失败')\r\n    loadingBar.error()\r\n  })\r\n}\r\ngetResourceData()\r\n\r\n\r\nwatch(() => router.currentRoute.value.query.resourceId, (newValue, oldValue) => {\r\n  queryData.resourceId = router.currentRoute.value.query.resourceId\r\n  getResourceData()\r\n})\r\nconst copy = async (text) => {\r\n  if (navigator.clipboard) {\r\n    await navigator.clipboard.writeText(text).then(() => {\r\n      message.success('复制成功')\r\n    }).catch(err => {\r\n      message.error(err.message)\r\n    })\r\n  } else {\r\n    try {\r\n      await toClipboard(text)\r\n      message.success('复制成功')\r\n    } catch (e) {\r\n      message.error(e.message)\r\n    }\r\n  }\r\n}\r\n\r\nconst addComment = () => {\r\n  if (!localStorage.getItem('token')) {\r\n    message.warning('请先登录')\r\n    router.push('/login')\r\n  }\r\n  if (data.comment.length > 200) {\r\n    message.warning('评论内容不能超过200个字符')\r\n    return\r\n  }\r\n  if (data.comment.length === 0) {\r\n    message.warning('评论内容不能为空')\r\n    return\r\n  }\r\n  homeAddComment({\r\n    comment: data.comment,\r\n    resourceId: data.resourceData.id\r\n  }).then(res => {\r\n    if (res.data.code === 200) {\r\n      getResourceData()\r\n      data.comment = ''\r\n      message.success(res.data.msg)\r\n    }\r\n  })\r\n}\r\n\r\nconst handleCurrentReply = (reply) => {\r\n  data.currentReply = reply\r\n}\r\n\r\nconst handleLike = (like) => {\r\n  if (!localStorage.getItem('token')) {\r\n    message.warning('请先登录')\r\n    router.push('/login')\r\n  }\r\n  message.success('点赞成功')\r\n}\r\n\r\nconst cancelAddComment = () => {\r\n  data.currentReply = ''\r\n  data.comment = ''\r\n}\r\n\r\nconst addReply = () => {\r\n  if (!localStorage.getItem('token')) {\r\n    message.warning('请先登录')\r\n    router.push('/login')\r\n  }\r\n  if (data.comment.length > 200) {\r\n    message.warning('评论内容不能超过200个字符')\r\n    return\r\n  }\r\n  if (data.comment.length === 0) {\r\n    message.warning('评论内容不能为空')\r\n    return\r\n  }\r\n  homeAddComment({\r\n    comment: data.comment,\r\n    resourceId: data.resourceData.id,\r\n    replyId: data.currentReply.id,\r\n  }).then(res => {\r\n    if (res.data.code === 200) {\r\n      getResourceData()\r\n      data.comment = ''\r\n      data.currentReply = ''\r\n      message.success(res.data.msg)\r\n    }\r\n  })\r\n}\r\n\r\nwatch(() => data.currentReply, (newValue, oldValue) => {\r\n  if (newValue) {\r\n    data.inputPlaceholder = '回复 ' + data.currentReply.user.nickname + ' 关于 ' + data.currentReply.content\r\n  } else {\r\n    data.inputPlaceholder = '来说点啥不，听听你的意见？'\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"resource-header\">\r\n    <n-page-header :title=\"data.resourceData.name\" subtitle=\"资源详情\" @back=\"router.go(-1)\">\r\n      <template #extra>\r\n        <div v-if=\"data.resourceData.tags\" class=\"resource-tags\">\r\n          <n-tag bordered size=\"small\" style=\"margin-left: 5px\" type=\"success\">\r\n            <template #icon>\r\n              <n-icon :component=\"FolderOutlined\" size=\"16\"/>\r\n            </template>\r\n            {{ data.resourceData.category.name }}\r\n          </n-tag>\r\n          <n-tag v-for=\"(item, index) in data.resourceData.tags\" :key=\"index\" bordered size=\"small\"\r\n                 style=\"margin-left: 5px\" type=\"info\">\r\n            <template #icon>\r\n              <n-icon :component=\"TagOutlined\" size=\"16\"/>\r\n            </template>\r\n            {{ item.name }}\r\n          </n-tag>\r\n        </div>\r\n      </template>\r\n    </n-page-header>\r\n  </div>\r\n  <div class=\"resource-content\">\r\n    <n-scrollbar>\r\n      <div v-if=\"data.showVideo && !data.loading\" class=\"resource-video\">\r\n        <n-card>\r\n          <vue3VideoPlay :poster='data.resourceData.cover' v-bind=\"videoOptions\"/>\r\n        </n-card>\r\n      </div>\r\n      <div v-if=\"data.showImage && !data.loading\" class=\"resource-image\">\r\n        <n-card>\r\n          <n-carousel :autoplay-speed=\"1000\" :loop=\"true\" :show-arrow=\"false\" autoplay draggable>\r\n            <n-carousel-item v-for=\"(item, index) in data.resourceData.images\" :key=\"index\">\r\n              <img :alt=\"item.name\" :src=\"item.image\" class=\"carousel-img\">\r\n            </n-carousel-item>\r\n          </n-carousel>\r\n        </n-card>\r\n      </div>\r\n      <div class=\"resource-text\">\r\n        <n-card>\r\n          <n-h5 v-if=\"data.resourceData.description  && !data.loading\" prefix=\"bar\" type=\"success\">资源介绍</n-h5>\r\n          <div v-if=\"data.resourceData.description && !data.loading\" class=\"resource-description\"\r\n               v-html=\"data.resourceData.description\"></div>\r\n          <n-h5 v-if=\"data.resourceData.content  && !data.loading\" prefix=\"bar\" type=\"success\">资源内容</n-h5>\r\n          <div v-if=\"data.resourceData.content && !data.loading\" class=\"resource-content\"\r\n               v-html=\"data.resourceData.content\"></div>\r\n          <n-h5 v-if=\"data.resourceData.url && !data.loading\" prefix=\"bar\" type=\"success\">下载地址</n-h5>\r\n          <div v-if=\"data.resourceData.url && !data.loading\" class=\"resource-url\">\r\n            <div v-if=\"data.resourceData.url.baidu_url\" class=\"url\">\r\n              <span> <i class=\"gcfont gc-baiduyun\"></i> 百度网盘：<n-a :href=\"data.resourceData.url.baidu_url\"\r\n                                                                      target=\"_blank\">{{\r\n                  data.resourceData.url.baidu_url\r\n                }}</n-a></span>\r\n            </div>\r\n            <div v-if=\"data.resourceData.url.tianyi_url\" class=\"url\">\r\n              <span> <i class=\"gcfont gc-tianyiyun\"></i> 天翼云：<n-a :href=\"data.resourceData.url.tianyi_url\"\r\n                                                                     target=\"_blank\">{{\r\n                  data.resourceData.url.tianyi_url\r\n                }}</n-a></span>\r\n            </div>\r\n            <div v-if=\"data.resourceData.url.aliyun_url\" class=\"url\">\r\n              <span> <i class=\"gcfont gc-aliyun\"></i> 阿里云：<n-a :href=\"data.resourceData.url.aliyun_url\"\r\n                                                                  target=\"_blank\">{{\r\n                  data.resourceData.url.aliyun_url\r\n                }}</n-a></span>\r\n            </div>\r\n          </div>\r\n          <n-h5 v-if=\"data.resourceData.active_code && !data.loading\" prefix=\"bar\" type=\"success\">激活码</n-h5>\r\n          <div v-if=\"data.resourceData.active_code && !data.loading\" class=\"resource-active_code\">\r\n            <n-button size=\"small\" type=\"primary\" @click=\"copy(data.resourceData.active_code)\">\r\n              激活码：{{ data.resourceData.active_code }}\r\n            </n-button>\r\n          </div>\r\n        </n-card>\r\n      </div>\r\n      <div class=\"resource-comment\">\r\n        <n-card>\r\n          <n-h5 prefix=\"bar\" type=\"success\">评论</n-h5>\r\n          <div class=\"comment-input-box\">\r\n            <n-input v-model:value=\"data.comment\" :placeholder=\"data.inputPlaceholder\" rows=\"4\"\r\n                     type=\"textarea\"></n-input>\r\n            <div style=\"display: flex;justify-content: flex-end;align-items: center;margin-top: 10px\">\r\n              <n-button v-if=\"!data.currentReply\" style=\"margin-left: 10px\" type=\"primary\" @click=\"addComment\">\r\n                发表评论\r\n              </n-button>\r\n              <n-button v-if=\"data.currentReply\" style=\"margin-left: 10px\" type=\"default\" @click=\"cancelAddComment\">\r\n                取消\r\n              </n-button>\r\n              <n-button v-if=\"data.currentReply\" style=\"margin-left: 10px\" type=\"primary\" @click=\"addReply\">回复\r\n              </n-button>\r\n            </div>\r\n          </div>\r\n          <CommentBox v-for=\"(item, index) in data.commentData\" v-if=\"data.commentData  && !data.loading\"\r\n                      :key=\"index\"\r\n                      :data=\"item\" class=\"comment-item\" @like=\"handleLike\"\r\n                      @reply=\"handleCurrentReply\"/>\r\n        </n-card>\r\n      </div>\r\n    </n-scrollbar>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\nimg {\r\n  width: 100%;\r\n}\r\n\r\n.resource-header {\r\n  padding: 12px 24px;\r\n}\r\n\r\n.resource-content {\r\n  padding: 0 24px;\r\n}\r\n\r\n.resource-video {\r\n  padding: 12px 0 0 0;\r\n}\r\n\r\n.resource-image {\r\n  padding: 12px 0 0 0;\r\n}\r\n\r\n.resource-text {\r\n  padding: 12px 0 0 0;\r\n}\r\n\r\n.carousel-img {\r\n  width: 100%;\r\n  height: 400px;\r\n  object-fit: cover;\r\n}\r\n\r\n.resource-description {\r\n  padding: 12px 0 0 0;\r\n}\r\n\r\n.resource-content {\r\n  padding: 12px 0 0 0;\r\n}\r\n\r\n.resource-description img {\r\n  width: 100% !important;\r\n}\r\n\r\n.resource-url {\r\n  padding: 12px 0 0 0;\r\n}\r\n\r\n.url {\r\n  padding: 5px 0 0 0;\r\n}\r\n\r\n.resource-comment {\r\n  padding: 12px 0 0 0;\r\n}\r\n\r\n.comment-item {\r\n  padding: 12px 0 0 0;\r\n}\r\n\r\n.comment-input-box {\r\n  transition: all .5s;\r\n}\r\n</style>","import script from \"./Resource.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Resource.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Resource.vue?vue&type=style&index=0&id=428df668&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-428df668\"]])\n\nexport default __exports__"],"names":["_hoisted_1","xmlns","viewBox","_hoisted_2","_createElementVNode","d","fill","_hoisted_3","defineComponent","name","render","_ctx","_cache","_openBlock","_createElementBlock","stroke","_createStaticVNode","emit","__emit","reply","like","__exports__","toClipboard","useClipboard","loadingBar","useLoadingBar","router","useRouter","message","useMessage","videoOptions","reactive","width","height","color","title","src","muted","webFullScreen","speedRate","autoPlay","loop","mirror","ligthOff","volume","control","controlBtns","data","loading","resourceData","showVideo","showImage","commentData","comment","currentReply","inputPlaceholder","queryData","resourceId","currentRoute","value","query","getResourceData","start","homeGetResource","then","res","code","comments","videos","video","e","images","filter","item","image","length","finish","error","msg","warning","catch","err","watch","newValue","oldValue","copy","async","navigator","clipboard","writeText","text","success","addComment","localStorage","getItem","push","homeAddComment","id","handleCurrentReply","handleLike","cancelAddComment","addReply","replyId","user","nickname","content"],"sourceRoot":""}