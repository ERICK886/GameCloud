"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[404],{2404:function(e,l,a){a.r(l),a.d(l,{default:function(){return W}});a(4114);var t=a(6768),s=a(144),n=a(7387),r=a(8126),u=a(1387);const d=e=>((0,t.Qi)("data-v-33966a7c"),e=e(),(0,t.jt)(),e),i={class:"install-container"},o={key:0,class:"install-content"},c={style:{display:"flex","align-items":"center"}},p=d((()=>(0,t.Lk)("i",{class:"fa-brands fa-github",style:{"margin-right":"8px"}},null,-1))),b={class:"install-content",style:{display:"flex","align-items":"center","justify-content":"flex-end"}},m={key:1,class:"install-steps"},f={key:2},k={class:"install-content"},y={class:"install-content",style:{display:"flex","align-items":"center","justify-content":"flex-end"}},v={key:3},F={class:"install-content",style:{display:"flex","align-items":"center","justify-content":"flex-end"}},h={key:4},g={class:"install-content",style:{display:"flex","align-items":"center","justify-content":"flex-end"}};var _={__name:"Install",setup(e){const l=(0,u.rd)(),a=(0,n.J)(),d=(0,s.Kh)({current:0,status:["process","process","process"],log:"",installLoading:!1}),_=()=>{(0,r.DD)().then((e=>{200===e.data.code&&e.data.data?l.push({name:"home"}):l.push({name:"install"})})).catch((e=>{l.push({name:"install"})}))};_();const w=(0,s.Kh)({mysql:{host:"127.0.0.1",port:"3306",database:"database",user:"root",password:"root"},site:{name:"小技资源分享系统",desc:"基于Python开发的资源分享系统",keywords:"Python,Vue,MySQL",domain:"https://example.domain.com"},admin:{username:"admin",password:"000000",nickname:"管理员",email:"admin@example.com"}}),x=()=>{d.installLoading=!0,""!==w.mysql.host?""!==w.mysql.port?""!==w.mysql.database?""!==w.mysql.user?""!==w.mysql.password?""!==w.site.name?""!==w.site.desc?""!==w.site.domain?""!==w.admin.username?""!==w.admin.nickname?""!==w.admin.password?""!==w.admin.email?(W(),(0,r.PO)(w).then((e=>{200===e.data.code?(d.status[d.current]="finish",d.log=e.data.data.log,a.success("安装成功"),d.installLoading=!1):(d.status[d.current]="error",d.log=e.data.data.log,d.installLoading=!1)})).catch((e=>{a.error(e.message)}))):a.error("管理员邮箱不能为空"):a.error("管理员密码不能为空"):a.error("管理员昵称不能为空"):a.error("管理员用户名不能为空"):a.error("网站域名不能为空"):a.error("网站描述不能为空"):a.error("网站名称不能为空"):a.error("数据库密码不能为空"):a.error("数据库用户名不能为空"):a.error("数据库名称不能为空"):a.error("数据库端口不能为空"):a.error("数据库地址不能为空")},W=()=>{d.status[d.current]="finish",d.current++,d.status[d.current]="process",d.log=""},q=()=>{d.status[d.current]="wait",d.current--,d.status[d.current]="process",d.log=""},C=(0,s.KR)(null);return(0,t.sV)((()=>{(0,t.nT)((()=>{d.log&&(0,t.dY)((()=>{C.value?.scrollTo({position:"bottom",silent:!0})}))}))})),(e,a)=>{const n=(0,t.g2)("n-h2"),r=(0,t.g2)("n-text"),u=(0,t.g2)("n-divider"),_=(0,t.g2)("n-h3"),L=(0,t.g2)("n-descriptions-item"),U=(0,t.g2)("n-a"),E=(0,t.g2)("n-descriptions"),Q=(0,t.g2)("n-button"),R=(0,t.g2)("n-step"),X=(0,t.g2)("n-steps"),j=(0,t.g2)("n-h5"),I=(0,t.g2)("n-input"),K=(0,t.g2)("n-form-item"),P=(0,t.g2)("n-form"),J=(0,t.g2)("n-log"),D=(0,t.g2)("n-result"),M=(0,t.g2)("n-card");return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.bF)(M,{class:"install-panel"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{prefix:"bar",type:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("安装向导")])),_:1}),(0,t.bF)(r,{class:"install-content"},{default:(0,t.k6)((()=>[(0,t.eW)("欢迎使用小技资源分享系统")])),_:1}),(0,t.bF)(u),0===d.current?((0,t.uX)(),(0,t.CE)("div",o,[(0,t.bF)(_,{prefix:"bar",type:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("项目信息")])),_:1}),(0,t.bF)(E,{columns:2,bordered:"","label-placement":"left","label-style":"width: 20%"},{default:(0,t.k6)((()=>[(0,t.bF)(L,{label:"项目名称"},{default:(0,t.k6)((()=>[(0,t.eW)("小技资源分享系统")])),_:1}),(0,t.bF)(L,{label:"项目版本"},{default:(0,t.k6)((()=>[(0,t.eW)("1.0.0")])),_:1}),(0,t.bF)(L,{label:"项目作者"},{default:(0,t.k6)((()=>[(0,t.eW)("可口可乐（Erick Lee）")])),_:1}),(0,t.bF)(L,{label:"项目描述"},{default:(0,t.k6)((()=>[(0,t.eW)("基于Python开发的资源分享系统")])),_:1}),(0,t.bF)(L,{label:"项目地址"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",c,[p,(0,t.bF)(U,{href:"https://github.com/ERICK886/JeesResource"},{default:(0,t.k6)((()=>[(0,t.eW)("https://github.com/ERICK886/JeesResource")])),_:1})])])),_:1})])),_:1}),(0,t.Lk)("div",b,[(0,t.bF)(Q,{type:"primary",onClick:W},{default:(0,t.k6)((()=>[(0,t.eW)("下一步")])),_:1})])])):(0,t.Q3)("",!0),0!==d.current?((0,t.uX)(),(0,t.CE)("div",m,[(0,t.bF)(X,{current:d.current,status:d.status[d.current]},{default:(0,t.k6)((()=>[(0,t.bF)(R,{description:"填写配置信息用于安装系统",title:"配置"}),(0,t.bF)(R,{description:"根据配置安装系统",title:"安装"}),(0,t.bF)(R,{description:"安装完成",title:"完成"})])),_:1},8,["current","status"])])):(0,t.Q3)("",!0),1===d.current?((0,t.uX)(),(0,t.CE)("div",f,[(0,t.bF)(_,{prefix:"bar",type:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("数据库配置")])),_:1}),(0,t.bF)(r,{class:"install-content"},{default:(0,t.k6)((()=>[(0,t.eW)("请选择谨慎配置数据库，否则会导致数据异常")])),_:1}),(0,t.bF)(j,{prefix:"bar",type:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("MySQL配置")])),_:1}),(0,t.Lk)("div",k,[(0,t.bF)(P,{class:"install-form","label-placement":"top","label-width":"auto"},{default:(0,t.k6)((()=>[(0,t.bF)(K,{label:"数据库地址"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.mysql.host,"onUpdate:value":a[0]||(a[0]=e=>w.mysql.host=e),placeholder:"请输入数据库地址"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"数据库端口"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.mysql.port,"onUpdate:value":a[1]||(a[1]=e=>w.mysql.port=e),placeholder:"请输入数据库端口"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"数据库名称"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.mysql.database,"onUpdate:value":a[2]||(a[2]=e=>w.mysql.database=e),placeholder:"请输入数据库名称"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"数据库用户名"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.mysql.user,"onUpdate:value":a[3]||(a[3]=e=>w.mysql.user=e),placeholder:"请输入数据库用户名"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"数据库密码"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.mysql.password,"onUpdate:value":a[4]||(a[4]=e=>w.mysql.password=e),placeholder:"请输入数据库密码","show-password-on":"click",type:"password"},null,8,["value"])])),_:1})])),_:1})]),(0,t.bF)(_,{prefix:"bar",type:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("网站基础配置")])),_:1}),(0,t.bF)(P,{class:"install-form","label-placement":"top","label-width":"auto"},{default:(0,t.k6)((()=>[(0,t.bF)(K,{label:"网站名称"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.site.name,"onUpdate:value":a[5]||(a[5]=e=>w.site.name=e),placeholder:"请输入网站名称"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"网站描述"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.site.desc,"onUpdate:value":a[6]||(a[6]=e=>w.site.desc=e),placeholder:"请输入网站描述"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"网站关键字"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.site.keywords,"onUpdate:value":a[7]||(a[7]=e=>w.site.keywords=e),placeholder:"请输入网站关键字"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"网站域名"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.site.domain,"onUpdate:value":a[8]||(a[8]=e=>w.site.domain=e),placeholder:"请输入网站域名"},null,8,["value"])])),_:1})])),_:1}),(0,t.bF)(_,{prefix:"bar",type:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("管理员账号")])),_:1}),(0,t.bF)(P,{class:"install-form","label-placement":"top","label-width":"auto"},{default:(0,t.k6)((()=>[(0,t.bF)(K,{label:"管理员账号"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.admin.username,"onUpdate:value":a[9]||(a[9]=e=>w.admin.username=e),placeholder:"请输入管理员账号"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"管理员昵称"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.admin.nickname,"onUpdate:value":a[10]||(a[10]=e=>w.admin.nickname=e),placeholder:"请输入管理员昵称"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"管理员密码"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.admin.password,"onUpdate:value":a[11]||(a[11]=e=>w.admin.password=e),placeholder:"请输入管理员密码","show-password-on":"click",type:"password"},null,8,["value"])])),_:1}),(0,t.bF)(K,{label:"管理员邮箱"},{default:(0,t.k6)((()=>[(0,t.bF)(I,{value:w.admin.email,"onUpdate:value":a[12]||(a[12]=e=>w.admin.email=e),placeholder:"请输入管理员邮箱"},null,8,["value"])])),_:1})])),_:1}),(0,t.Lk)("div",y,[(0,t.bF)(Q,{style:{"margin-right":"10px"},type:"info",onClick:q},{default:(0,t.k6)((()=>[(0,t.eW)("上一步")])),_:1}),(0,t.bF)(Q,{type:"primary",onClick:x},{default:(0,t.k6)((()=>[(0,t.eW)("开始安装")])),_:1})])])):(0,t.Q3)("",!0),2===d.current?((0,t.uX)(),(0,t.CE)("div",v,[(0,t.bF)(_,{prefix:"bar",type:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("安装日志")])),_:1}),(0,t.bF)(J,{ref_key:"logInstRef",ref:C,loading:d.installLoading,log:d.log,rows:20,language:"bash",trim:""},null,8,["loading","log"]),(0,t.Lk)("div",F,[(0,t.bF)(Q,{style:{"margin-right":"10px"},type:"info",onClick:q},{default:(0,t.k6)((()=>[(0,t.eW)("上一步")])),_:1}),"finish"===d.status[d.current]?((0,t.uX)(),(0,t.Wv)(Q,{key:0,type:"primary",onClick:a[13]||(a[13]=e=>d.current=3)},{default:(0,t.k6)((()=>[(0,t.eW)(" 完成 ")])),_:1})):(0,t.Q3)("",!0)])])):(0,t.Q3)("",!0),3===d.current?((0,t.uX)(),(0,t.CE)("div",h,[(0,t.bF)(_,{prefix:"bar",type:"success"},{default:(0,t.k6)((()=>[(0,t.eW)("安装完成")])),_:1}),(0,t.bF)(D,{description:"安装成功，请登录后台进行设置",status:"success",title:"安装成功"}),(0,t.Lk)("div",g,[(0,t.bF)(Q,{type:"primary",onClick:a[14]||(a[14]=e=>(0,s.R1)(l).push({name:"login"}))},{default:(0,t.k6)((()=>[(0,t.eW)("登录")])),_:1})])])):(0,t.Q3)("",!0)])),_:1})])}}},w=a(1241);const x=(0,w.A)(_,[["__scopeId","data-v-33966a7c"]]);var W=x}}]);
//# sourceMappingURL=404.56ce49da.js.map