{"version":3,"file":"static/js/316.64174735.js","mappings":"keACAA,SAASC,MAAQ,KAMjB,MAAMC,GAAUC,EAAAA,EAAAA,KACVC,GAASC,EAAAA,EAAAA,MACTC,GAAOC,EAAAA,EAAAA,IAAS,CACpBC,SAAU,GACVC,SAAU,KAGNC,EAAQ,CACZF,SAAU,CACR,CACEG,UAAU,EACVT,QAAS,SACTU,QAAS,SAGbH,SAAU,CACR,CACEE,UAAU,EACVT,QAAS,QACTU,QAAS,UAKTC,EAAcA,MAClBC,EAAAA,EAAAA,IAAYR,GAAMS,MAAKC,IACC,MAAlBA,EAAIV,KAAKW,MACXf,EAAQgB,QAAQ,QAChBC,aAAaC,QAAQ,QAASJ,EAAIV,KAAKA,KAAKe,OAC5CC,QAAQC,IAAIP,EAAIV,KAAKA,KAAKe,OAC1BG,YACI,KACMR,EAAIV,KAAKA,KAAKmB,MAChBrB,EAAOsB,KAAK,UACHV,EAAIV,KAAKA,KAAKqB,MACvBvB,EAAOsB,KAAK,QACd,GACC,MAEoB,MAAlBV,EAAIV,KAAKW,KAClBf,EAAQ0B,MAAMZ,EAAIV,KAAKuB,KACI,MAAlBb,EAAIV,KAAKW,MAClBf,EAAQ4B,QAAQd,EAAIV,KAAKuB,IAC3B,IACCE,OAAMC,IACP9B,EAAQ0B,MAAMI,EAAI9B,QAAQ,GAC1B,E,i5BC/CJ,MAAM+B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://frontend/./src/views/Admin/Login.vue","webpack://frontend/./src/views/Admin/Login.vue?c304"],"sourcesContent":["<script setup>\r\ndocument.title = '登录';\r\nimport {reactive} from \"vue\";\r\nimport {useMessage} from \"naive-ui\";\r\nimport {adminSignIn} from \"@/assets/js/api\";\r\nimport {useRouter} from 'vue-router'\r\n\r\nconst message = useMessage()\r\nconst router = useRouter()\r\nconst data = reactive({\r\n  username: '',\r\n  password: ''\r\n})\r\n\r\nconst rules = {\r\n  username: [\r\n    {\r\n      required: true,\r\n      message: '请输入用户名',\r\n      trigger: 'blur'\r\n    }\r\n  ],\r\n  password: [\r\n    {\r\n      required: true,\r\n      message: '请输入密码',\r\n      trigger: 'blur'\r\n    }\r\n  ]\r\n}\r\n\r\nconst handleLogin = () => {\r\n  adminSignIn(data).then(res => {\r\n    if (res.data.code === 200) {\r\n      message.success('登录成功')\r\n      localStorage.setItem('token', res.data.data.token)\r\n      console.log(res.data.data.token)\r\n      setTimeout(\r\n          () => {\r\n            if (res.data.data.admin) {\r\n              router.push('/admin')\r\n            } else if (res.data.data.user) {\r\n              router.push('/user')\r\n            }\r\n          }, 1000\r\n      )\r\n    } else if (res.data.code === 400) {\r\n      message.error(res.data.msg)\r\n    } else if (res.data.code === 401) {\r\n      message.warning(res.data.msg)\r\n    }\r\n  }).catch(err => {\r\n    message.error(err.message)\r\n  })\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-box\">\r\n      <n-card>\r\n        <div class=\"login-title\">\r\n          <h1>登录</h1>\r\n        </div>\r\n        <div class=\"login-form\">\r\n          <n-form :model=\"data\" :rules=\"rules\" label-placement=\"top\" label-width=\"80px\">\r\n            <n-form-item label=\"用户名\" path=\"username\">\r\n              <n-input v-model:value=\"data.username\" placeholder=\"请输入用户名\"/>\r\n            </n-form-item>\r\n            <n-form-item label=\"密码\" path=\"password\">\r\n              <n-input v-model:value=\"data.password\" placeholder=\"请输入密码\" type=\"password\"/>\r\n            </n-form-item>\r\n            <div class=\"login-btn\">\r\n              <n-button block secondary type=\"primary\" @click=\"handleLogin\">登录</n-button>\r\n            </div>\r\n          </n-form>\r\n        </div>\r\n      </n-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.login-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n}\r\n\r\n.login-title {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.login-box {\r\n  width: 450px;\r\n}\r\n\r\n.login-form {\r\n  padding: 24px;\r\n}\r\n</style>","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=5664efac&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5664efac\"]])\n\nexport default __exports__"],"names":["document","title","message","useMessage","router","useRouter","data","reactive","username","password","rules","required","trigger","handleLogin","adminSignIn","then","res","code","success","localStorage","setItem","token","console","log","setTimeout","admin","push","user","error","msg","warning","catch","err","__exports__"],"sourceRoot":""}